<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
google_ad_client: "ca-pub-7674654031652018",
enable_page_level_ads: true
});</script><title> Swift tour · 由来</title><meta name="description" content="Swift tour - kunpengku"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/prontera.css"><link rel="search" type="application/opensearchdescription+xml" href="http://www.youletter.cn/atom.xml" title="由来"></head><body><header class="feature-header"><nav class="component-nav"><ul><div class="logo-container"><a href="/"><h2 class="title">由来</h2></a></div><a href="/" target="_self" class="li component-nav-item"><p>主页</p></a><a href="/archives" target="_self" class="li component-nav-item"><p>归档</p></a><a href="/about" target="_self" class="li component-nav-item"><p>关于我</p></a><ul class="shortcut-icons"><a href="https://github.com/kunpengku" target="_blank"><img src="/images/github.svg" class="icon"></a><a href="/atom.xml" target="_blank"><img src="/images/rss.svg" class="icon"></a></ul></ul></nav></header><main class="container"><div id="post-container"><div class="post"><article class="post-block"><h1 class="post-title">Swift tour</h1><div class="post-info">2017年12月12日</div><div class="post-content"><p><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/GuidedTour.html#//apple_ref/doc/uid/TP40014097-CH2-ID1" target="_blank" rel="external">A Swift Tour</a></p>
<h2 id="hello-world"><a href="#hello-world" class="headerlink" title="hello world"></a>hello world</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">print(&quot;Hello, world!&quot;)</div></pre></td></tr></table></figure>
<h2 id="简单值"><a href="#简单值" class="headerlink" title="简单值"></a>简单值</h2><p>let定义 常量<br>var定义 变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var myVariable = 42</div><div class="line">myVariable = 50</div><div class="line">let myConstant = 42</div></pre></td></tr></table></figure>
<h3 id="编译器可以推断-变量的类型。"><a href="#编译器可以推断-变量的类型。" class="headerlink" title="编译器可以推断 变量的类型。"></a>编译器可以推断 变量的类型。</h3><p>但如果 第一个出现变量时，没有初始时，可以显示的 给 变量 定义 类型， 在变量后面 写明类型，用一个冒号分开。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">let implicitInteger = 70</div><div class="line">let implicitDouble = 70.0</div><div class="line">let explicitDouble: Double = 70</div></pre></td></tr></table></figure>
<h2 id="明确的类型转换"><a href="#明确的类型转换" class="headerlink" title="明确的类型转换"></a>明确的类型转换</h2><p>如果一个类型 需要 转换成另一种类型，必须  显示的说明， 不能 隐式的转化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">let label = &quot;The width is &quot;</div><div class="line">let width = 94</div><div class="line">let widthLabel = label + String(width)</div></pre></td></tr></table></figure>
<h2 id="将值-拼接到-字符串中"><a href="#将值-拼接到-字符串中" class="headerlink" title="将值 拼接到 字符串中"></a>将值 拼接到 字符串中</h2><p>使用 括号将值括起来，在前面加一个反斜杠 <code>\()</code>  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let apples = 3</div><div class="line">let oranges = 5</div><div class="line">let appleSummary = &quot;I have \(apples) apples.&quot;</div><div class="line">let fruitSummary = &quot;I have \(apples + oranges) pieces of fruit.&quot;</div></pre></td></tr></table></figure>
<h2 id="多行字符串-，用三个双引号。"><a href="#多行字符串-，用三个双引号。" class="headerlink" title="多行字符串 ，用三个双引号。"></a>多行字符串 ，用三个双引号。</h2><p>同Python</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let quotation = &quot;&quot;&quot;</div><div class="line">I said &quot;I have \(apples) apples.&quot;</div><div class="line">And then I said &quot;I have \(apples + oranges) pieces of fruit.&quot;</div><div class="line">&quot;&quot;&quot;</div></pre></td></tr></table></figure>
<h2 id="数组-，字典"><a href="#数组-，字典" class="headerlink" title="数组 ，字典"></a>数组 ，字典</h2><p>使用方括号<code>[]</code>来 创建数组和字典 ，用index或者 key来访问。<br>最后一个元素后面，允许跟一个 逗号。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var shoppingList = [&quot;catfish&quot;, &quot;water&quot;, &quot;tulips&quot;, &quot;blue paint&quot;,]</div><div class="line">shoppingList[1] = &quot;bottle of water&quot;</div><div class="line"></div><div class="line">var occupations = [</div><div class="line">    &quot;Malcolm&quot;: &quot;Captain&quot;,</div><div class="line">    &quot;Kaylee&quot;: &quot;Mechanic&quot;,</div><div class="line">]</div><div class="line">occupations[&quot;Jayne&quot;] = &quot;Public Relations&quot;</div></pre></td></tr></table></figure>
<h2 id="创建一个空的数组-，或者-字典"><a href="#创建一个空的数组-，或者-字典" class="headerlink" title="创建一个空的数组 ，或者 字典"></a>创建一个空的数组 ，或者 字典</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">var emptyArray = [String]()</div><div class="line">var emptyDictionary = [String: Float]()</div><div class="line"></div><div class="line">emptyArray.append(&quot;123&quot;)</div><div class="line"></div><div class="line">print(emptyArray)</div><div class="line"></div><div class="line">emptyDictionary[&quot;123&quot;] = 1.2</div><div class="line"></div><div class="line">print(emptyDictionary)</div></pre></td></tr></table></figure>
<p>如果 希望 编译器 通过 值来 自己 判断类型，也可以用下面的 方式 初始化 空的 数组或者 字典。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">shoppingList = []</div><div class="line">occupations = [:]</div></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="控制流"><a href="#控制流" class="headerlink" title="控制流"></a>控制流</h2><p>使用if 和 switch 进行 条件选择<br>使用 for-in, while, 或 repeat-while 进行循环。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">let individualScores = [75, 43, 103, 87, 12]</div><div class="line">var teamScore = 0</div><div class="line">for score in individualScores &#123;</div><div class="line">    if score &gt; 50 &#123;</div><div class="line">        teamScore += 3</div><div class="line">    &#125; else &#123;</div><div class="line">        teamScore += 1</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">print(teamScore)</div></pre></td></tr></table></figure>
<p>条件周围的 圆括号是 可选的， 循环体的 大括号是必选的。</p>
<p>if 条件必须是 boolean表达式。</p>
<p>if score { … } 这种写法是错误的。</p>
<h2 id=""><a href="#" class="headerlink" title="?"></a>?</h2><p>如果一个变量 可能是 nil ，那么在声明这个变量时，需要在 类型后面 写一个 ？。<br>言外之意是，如果普通定义的变量 不能是 nil。 否则会报错。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var optionalString: String? = &quot;Hello&quot;</div><div class="line">print(optionalString == nil)</div><div class="line"> </div><div class="line">var optionalName: String? = &quot;John Appleseed&quot;</div><div class="line">var greeting = &quot;Hello!&quot;</div><div class="line">if let name = optionalName &#123;</div><div class="line">    greeting = &quot;Hello, \(name)&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="-1"><a href="#-1" class="headerlink" title="??"></a>??</h2><p>两个冒号，表示 默认值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">let nickName: String? = nil</div><div class="line">let fullName: String = &quot;John Appleseed&quot;</div><div class="line">let informalGreeting = &quot;Hi \(nickName ?? fullName)&quot;</div></pre></td></tr></table></figure>
<p>if 和 let连用。</p>
<h2 id="强大的switch"><a href="#强大的switch" class="headerlink" title="强大的switch"></a>强大的switch</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">let vegetable = &quot;red pepper&quot;</div><div class="line">switch vegetable &#123;</div><div class="line">case &quot;celery&quot;:</div><div class="line">    print(&quot;Add some raisins and make ants on a log.&quot;)</div><div class="line">case &quot;cucumber&quot;, &quot;watercress&quot;:</div><div class="line">    print(&quot;That would make a good tea sandwich.&quot;)</div><div class="line">case let x where x.hasSuffix(&quot;pepper&quot;):</div><div class="line">    print(&quot;Is it a spicy \(x)?&quot;)</div><div class="line">default:</div><div class="line">    print(&quot;Everything tastes good in soup.&quot;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>不需要break语句， 执行完case后，会自动退出。</p>
<h2 id="循环遍历-字典-和-数组"><a href="#循环遍历-字典-和-数组" class="headerlink" title="循环遍历 字典 和 数组"></a>循环遍历 字典 和 数组</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">let interestingNumbers = [</div><div class="line">    &quot;Prime&quot;: [2, 3, 5, 7, 11, 13],</div><div class="line">    &quot;Fibonacci&quot;: [1, 1, 2, 3, 5, 8],</div><div class="line">    &quot;Square&quot;: [1, 4, 9, 16, 25],</div><div class="line">]</div><div class="line">var largest = 0</div><div class="line">for (kind, numbers) in interestingNumbers &#123;</div><div class="line">    print(kind,numbers)</div><div class="line">    for number in numbers &#123;</div><div class="line">        print(number)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="while-和-repeat-while"><a href="#while-和-repeat-while" class="headerlink" title="while 和 repeat,while"></a>while 和 repeat,while</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var n = 2</div><div class="line">while n &lt; 100 &#123;</div><div class="line">    n *= 2</div><div class="line">&#125;</div><div class="line">print(n)</div><div class="line"> </div><div class="line">var m = 2</div><div class="line">repeat &#123;</div><div class="line">    m *= 2</div><div class="line">&#125; while m &lt; 100</div><div class="line">print(m)</div></pre></td></tr></table></figure>
<h2 id="range"><a href="#range" class="headerlink" title="range()"></a>range()</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var total = 0</div><div class="line">for i in 0...4 &#123;</div><div class="line">    print(i)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">0</div><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td></tr></table></figure>
<p>注意 <code>...</code> 变成 <code>..&lt;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var total = 0</div><div class="line">for i in 0..&lt;4 &#123;</div><div class="line">    print(i)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">0</div><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td></tr></table></figure>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">greet</span><span class="params">(person: String, day: String)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">"Hello \(person), today is \(day)."</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> s = greet(person: <span class="string">"Bob"</span>, day: <span class="string">"Tuesday"</span>)</div><div class="line"><span class="built_in">print</span>(s)</div></pre></td></tr></table></figure>
<p>使用func声明函数，  -&gt; 后面是返回的类型。</p>
<p>调用函数时， 需要使用参数标签，  如果不想使用参数 ，可以在参数前 增加 _<br>或者 给参数起一个别名。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">func greet(_ person: String, on day: String) -&gt; String &#123;</div><div class="line">    return &quot;Hello \(person), today is \(day).&quot;</div><div class="line">&#125;</div><div class="line">var s = greet(&quot;Bob&quot;, on: &quot;Tuesday&quot;)</div><div class="line">print(s)</div></pre></td></tr></table></figure>
<p>这个例子中， person这个参数 省略了， 用on来 作为today的标签。</p>
<p>下面这个例子 ，一个函数，返回了多个值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">func calculateStatistics(scores: [Int]) -&gt; (min: Int, max: Int, sum: Int) &#123;</div><div class="line">    var min = scores[0]</div><div class="line">    var max = scores[0]</div><div class="line">    var sum = 0</div><div class="line">    </div><div class="line">    for score in scores &#123;</div><div class="line">        if score &gt; max &#123;</div><div class="line">            max = score</div><div class="line">        &#125; else if score &lt; min &#123;</div><div class="line">            min = score</div><div class="line">        &#125;</div><div class="line">        sum += score</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    return (min, max, sum)</div><div class="line">&#125;</div><div class="line">let statistics = calculateStatistics(scores: [5, 3, 100, 3, 9])</div><div class="line">print(statistics.sum)</div><div class="line">print(statistics.2)</div><div class="line"></div><div class="line">print(statistics)</div></pre></td></tr></table></figure>
<h2 id="嵌套函数"><a href="#嵌套函数" class="headerlink" title="嵌套函数"></a>嵌套函数</h2><p>函数中可以  再定义函数 ，内存函数可以 使用外层函数的 变量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">func returnFifteen() -&gt; Int &#123;</div><div class="line">    var y = 10</div><div class="line">    func add() &#123;</div><div class="line">        y += 5</div><div class="line">    &#125;</div><div class="line">    add()</div><div class="line">    return y</div><div class="line">&#125;</div><div class="line">returnFifteen()</div></pre></td></tr></table></figure>
<h2 id="返回一个函数"><a href="#返回一个函数" class="headerlink" title="返回一个函数"></a>返回一个函数</h2><p>函数是头等类型， 所以可以返回一个 函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">func makeIncrementer() -&gt; ((Int) -&gt; Int) &#123;</div><div class="line">    func addOne(number: Int) -&gt; Int &#123;</div><div class="line">        return 1 + number</div><div class="line">    &#125;</div><div class="line">    return addOne</div><div class="line">&#125;</div><div class="line">var increment = makeIncrementer()</div><div class="line">increment(7)</div></pre></td></tr></table></figure>
<h2 id="函数可以作为-参数-传入"><a href="#函数可以作为-参数-传入" class="headerlink" title="函数可以作为 参数 传入"></a>函数可以作为 参数 传入</h2><p>这一点和  C语言很像。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">func hasAnyMatches(list: [Int], condition: (Int) -&gt; Bool) -&gt; Bool &#123;</div><div class="line">    for item in list &#123;</div><div class="line">        if condition(item) &#123;</div><div class="line">            return true</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return false</div><div class="line">&#125;</div><div class="line">func lessThanTen(number: Int) -&gt; Bool &#123;</div><div class="line">    return number &lt; 10</div><div class="line">&#125;</div><div class="line">var numbers = [20, 19, 7, 12]</div><div class="line">hasAnyMatches(list: numbers, condition: lessThanTen)</div></pre></td></tr></table></figure>
<h2 id="closure"><a href="#closure" class="headerlink" title="closure"></a>closure</h2><p>函数时 closure 的一种 特例。</p>
<p>closure 就是 可以在 别处 调用的 代码块。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">numbers.map(&#123; (number: Int) -&gt; Int in</div><div class="line">    let result = 3 * number</div><div class="line">    return result</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>closure 用 in 来 分开 参数 ，返回类型 和 函数体</p>
<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><p>声明 属性</p>
<p>声明 方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">class Shape &#123;</div><div class="line">    var numberOfSides = 0</div><div class="line">    func simpleDescription() -&gt; String &#123;</div><div class="line">        return &quot;A shape with \(numberOfSides) sides.&quot;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>实例化 对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var shape = Shape()</div></pre></td></tr></table></figure>
<p>访问实例的属性 和 方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">shape.numberOfSides = 7</div><div class="line">var shapeDescription = shape.simpleDescription()</div></pre></td></tr></table></figure>
<p>类的构造函数 init</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">class NamedShape &#123;</div><div class="line">    var numberOfSides: Int = 0</div><div class="line">    var name: String</div><div class="line">    </div><div class="line">    init(name: String) &#123;</div><div class="line">        self.name = name</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    func simpleDescription() -&gt; String &#123;</div><div class="line">        return &quot;A shape with \(numberOfSides) sides.&quot;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>所有的属性 都需要 赋值。</p>
<p><code>deinit</code> 来定义 析构函数</p>
<p>子类 ，用冒号 ，后面跟上 superclass</p>
<p>子类中 用 override 可以重写 相同的方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">class Square: NamedShape &#123;</div><div class="line">    var sideLength: Double</div><div class="line">    </div><div class="line">    init(sideLength: Double, name: String) &#123;</div><div class="line">        self.sideLength = sideLength</div><div class="line">        super.init(name: name)</div><div class="line">        numberOfSides = 4</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    func area() -&gt; Double &#123;</div><div class="line">        return sideLength * sideLength</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    override func simpleDescription() -&gt; String &#123;</div><div class="line">        return &quot;A square with sides of length \(sideLength).&quot;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">let test = Square(sideLength: 5.2, name: &quot;my test square&quot;)</div><div class="line">test.area()</div><div class="line">test.simpleDescription()</div></pre></td></tr></table></figure>
<h2 id="类中的setter-getter"><a href="#类中的setter-getter" class="headerlink" title="类中的setter / getter"></a>类中的setter / getter</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">class NamedShape &#123;</div><div class="line">    var numberOfSides: Int = 0</div><div class="line">    var name: String</div><div class="line">    </div><div class="line">    init(name: String) &#123;</div><div class="line">        self.name = name</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    func simpleDescription() -&gt; String &#123;</div><div class="line">        return &quot;A shape with \(numberOfSides) sides.&quot;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">class EquilateralTriangle: NamedShape &#123;</div><div class="line">    var sideLength: Double = 0.0</div><div class="line">    </div><div class="line">    init(sideLength: Double, name: String) &#123;</div><div class="line">        self.sideLength = sideLength</div><div class="line">        super.init(name: name)</div><div class="line">        numberOfSides = 3</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    var perimeter: Double &#123;</div><div class="line">        get &#123;</div><div class="line">            return 3.0 * sideLength</div><div class="line">        &#125;</div><div class="line">        set(newValue)&#123;</div><div class="line">            sideLength = newValue / 3.0</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    override func simpleDescription() -&gt; String &#123;</div><div class="line">        return &quot;An equilateral triangle with sides of length \(sideLength).&quot;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">var triangle = EquilateralTriangle(sideLength: 3.1, name: &quot;a triangle&quot;)</div><div class="line">print(triangle.perimeter)</div><div class="line">triangle.perimeter = 9.9</div><div class="line">print(triangle.sideLength)</div></pre></td></tr></table></figure>
<p>枚举</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">enum Rank: Int &#123;</div><div class="line">    case ace = 1</div><div class="line">    case two, three, four, five, six, seven, eight, nine, ten</div><div class="line">    case jack, queen, king</div><div class="line">    func simpleDescription() -&gt; String &#123;</div><div class="line">        switch self &#123;</div><div class="line">        case .ace:</div><div class="line">            return &quot;ace&quot;</div><div class="line">        case .jack:</div><div class="line">            return &quot;jack&quot;</div><div class="line">        case .queen:</div><div class="line">            return &quot;queen&quot;</div><div class="line">        case .king:</div><div class="line">            return &quot;king&quot;</div><div class="line">        default:</div><div class="line">            return String(self.rawValue)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">let ace = Rank.ace</div><div class="line">let aceRawValue = ace.rawValue</div></pre></td></tr></table></figure>
<p>用rawValue 实例化 Enum</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">if let convertedRank = Rank(rawValue: 3) &#123;</div><div class="line">    let threeDescription = convertedRank.simpleDescription()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>枚举 example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">enum Suit &#123;</div><div class="line">    case spades, hearts, diamonds, clubs</div><div class="line">    func simpleDescription() -&gt; String &#123;</div><div class="line">        switch self &#123;</div><div class="line">        case .spades:</div><div class="line">            return &quot;spades&quot;</div><div class="line">        case .hearts:</div><div class="line">            return &quot;hearts&quot;</div><div class="line">        case .diamonds:</div><div class="line">            return &quot;diamonds&quot;</div><div class="line">        case .clubs:</div><div class="line">            return &quot;clubs&quot;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    func color() -&gt; String&#123;</div><div class="line">        switch self &#123;</div><div class="line">        case .spades, .diamonds:</div><div class="line">            return &quot;black&quot;</div><div class="line">        case .hearts, .clubs:</div><div class="line">            return &quot;red&quot;</div><div class="line">        default:</div><div class="line">            return &quot;error&quot;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">let hearts = Suit.hearts</div><div class="line">let heartsDescription = hearts.simpleDescription()</div><div class="line"></div><div class="line">print(hearts.color())</div></pre></td></tr></table></figure>
<h4 id="struct"><a href="#struct" class="headerlink" title="struct"></a>struct</h4><p>结构和 class 类似 ，结构在 传递的时候 用的是复制， class 传的是 引用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">struct Card &#123;</div><div class="line">    var rank: Rank</div><div class="line">    var suit: Suit</div><div class="line">    func simpleDescription() -&gt; String &#123;</div><div class="line">        return &quot;The \(rank.simpleDescription()) of \(suit.simpleDescription())&quot;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">let threeOfSpades = Card(rank: .three, suit: .spades)</div><div class="line">let threeOfSpadesDescription = threeOfSpades.simpleDescription()</div></pre></td></tr></table></figure>
<h2 id="Protocols"><a href="#Protocols" class="headerlink" title="Protocols"></a>Protocols</h2><p>类似 java中的接口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">protocol ExampleProtocol &#123;</div><div class="line">    var simpleDescription: String &#123; get &#125;</div><div class="line">    mutating func adjust()</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">class SimpleClass: ExampleProtocol &#123;</div><div class="line">    var simpleDescription: String = &quot;A very simple class.&quot;</div><div class="line">    var anotherProperty: Int = 69105</div><div class="line">    func adjust() &#123;</div><div class="line">        simpleDescription += &quot;  Now 100% adjusted.&quot;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">var a = SimpleClass()</div><div class="line">a.adjust()</div><div class="line">let aDescription = a.simpleDescription</div><div class="line"> </div><div class="line">struct SimpleStructure: ExampleProtocol &#123;</div><div class="line">    var simpleDescription: String = &quot;A simple structure&quot;</div><div class="line">    mutating func adjust() &#123;</div><div class="line">        simpleDescription += &quot; (adjusted)&quot;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">var b = SimpleStructure()</div><div class="line">b.adjust()</div><div class="line">let bDescription = b.simpleDescription</div></pre></td></tr></table></figure>
<h2 id="extension"><a href="#extension" class="headerlink" title="extension"></a>extension</h2><p>扩展</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">extension Int: ExampleProtocol &#123;</div><div class="line">    var simpleDescription: String &#123;</div><div class="line">        return &quot;The number \(self)&quot;</div><div class="line">    &#125;</div><div class="line">    mutating func adjust() &#123;</div><div class="line">        self += 42</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">print(7.simpleDescription)</div></pre></td></tr></table></figure>
<h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><p>用enum 实现 Error protocol<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">enum PrinterError: Error &#123;</div><div class="line">    case outOfPaper</div><div class="line">    case noToner</div><div class="line">    case onFire</div><div class="line">&#125;</div><div class="line"></div><div class="line">func send(job: Int, toPrinter printerName: String) throws -&gt; String &#123;</div><div class="line">    if printerName == &quot;Never Has Toner&quot; &#123;</div><div class="line">        throw PrinterError.noToner</div><div class="line">    &#125;</div><div class="line">    return &quot;Job sent&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>处理异常 do catch</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">do &#123;</div><div class="line">    let printerResponse = try send(job: 1040, toPrinter: &quot;Bi Sheng&quot;)</div><div class="line">    print(printerResponse)</div><div class="line">&#125; catch &#123;</div><div class="line">    print(error)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>defer 相当于 finally</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">var fridgeIsOpen = false</div><div class="line">let fridgeContent = [&quot;milk&quot;, &quot;eggs&quot;, &quot;leftovers&quot;]</div><div class="line"> </div><div class="line">func fridgeContains(_ food: String) -&gt; Bool &#123;</div><div class="line">    fridgeIsOpen = true</div><div class="line">    defer &#123;</div><div class="line">        fridgeIsOpen = false</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    let result = fridgeContent.contains(food)</div><div class="line">    return result</div><div class="line">&#125;</div><div class="line">fridgeContains(&quot;banana&quot;)</div><div class="line">print(fridgeIsOpen)</div></pre></td></tr></table></figure>
<h2 id="Generics"><a href="#Generics" class="headerlink" title="Generics"></a>Generics</h2><p>泛型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">func makeArray&lt;Item&gt;(repeating item: Item, numberOfTimes: Int) -&gt; [Item] &#123;</div><div class="line">    var result = [Item]()</div><div class="line">    for _ in 0..&lt;numberOfTimes &#123;</div><div class="line">        result.append(item)</div><div class="line">    &#125;</div><div class="line">    return result</div><div class="line">&#125;</div><div class="line">makeArray(repeating: &quot;knock&quot;, numberOfTimes: 4)</div></pre></td></tr></table></figure>
</div></article></div><div id="disqus_thread"></div></div><div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;"><img src="/images/WechatIMG5.jpeg" width="180px"><p>简单点，讨钱的方式简单点</p><button style="display: inline-block;      width: 80px;      height: 35px;      border-radius: 5px;      color: #fff;      font-weight: 400;      font-style: normal;      font-variant: normal;      font-stretch: normal;      font-size: 18px;      background: #f44336;"><span>赏</span></button></div><div id="ads"></div><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 底部01--><ins style="display:block" data-ad-client="ca-pub-7674654031652018" data-ad-slot="3127803056" data-ad-format="auto" class="adsbygoogle"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});

</script><div id="SOHUCS"></div><script charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/changyan.js"></script><script type="text/javascript">window.changyan.api.config({
appid: 'cytkri3BC',
conf: 'prod_1e787a373da7a5fa9ef7156a6dae5e6b'
});
</script></main><footer class="footer-container"><div class="paginator"><a href="/2017/12/12/Jump-Right-In/" class="prev">上一篇</a><a href="/2017/12/11/spring-security-preface/" class="next">下一篇</a></div><div class="copyright"><p>© 2017 <a href="mailto:fupeng_2005@126.com">kunpengku</a>, <a href="http://www.miitbeian.gov.cn">京ICP备17058936号-1</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/AngryPowman/hexo-theme-prontera" target="_blank">hexo-theme-prontera</a>.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"angrypowman",'auto');ga('send','pageview');</script></body></html>