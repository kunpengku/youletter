<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
google_ad_client: "ca-pub-7674654031652018",
enable_page_level_ads: true
});
</script><script>(function(){
var bp = document.createElement('script');
var curProtocol = window.location.protocol.split(':')[0];
if (curProtocol === 'https'){
bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
}
else{
bp.src = 'http://push.zhanzhang.baidu.com/push.js';
}
var s = document.getElementsByTagName("script")[0];
s.parentNode.insertBefore(bp, s);
})();
</script><title> spring boot 接收参数的几种姿势 · 由来</title><meta name="description" content="spring boot 接收参数的几种姿势 - kunpengku"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/prontera.css"><link rel="search" type="application/opensearchdescription+xml" href="http://www.youletter.cn/atom.xml" title="由来"></head><body><header class="feature-header"><nav class="component-nav"><ul><div class="logo-container"><a href="/"><h2 class="title">由来</h2></a></div><a href="/" target="_self" class="li component-nav-item"><p>主页</p></a><a href="/archives" target="_self" class="li component-nav-item"><p>归档</p></a><a href="/about" target="_self" class="li component-nav-item"><p>关于我</p></a><ul class="shortcut-icons"><a href="https://github.com/kunpengku" target="_blank"><img src="/images/github.svg" class="icon"></a><a href="https://weibo.com/kunpengku" target="_blank"><img src="/images/weibo_2.jpg" class="icon"></a><a href="/atom.xml" target="_blank"><img src="/images/rss.svg" class="icon"></a></ul></ul></nav></header><main class="container"><div id="post-container"><div class="post"><article class="post-block"><h1 class="post-title">spring boot 接收参数的几种姿势</h1><div class="post-info">2018年2月4日</div><div class="post-content"><h1 id="RequestBody"><a href="#RequestBody" class="headerlink" title="@RequestBody"></a>@RequestBody</h1><p>适用场景：请求方传入一个JSON串，将这个json反序列化成一个对象，赋值给一个变量。<br>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@RequestMapping(value = &quot;/friend&quot;, method = RequestMethod.POST)</span><br><span class="line">public String create(@RequestBody Friend friend) &#123;</span><br><span class="line">    System.out.println(friend);</span><br><span class="line"></span><br><span class="line">    return &quot;ok&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">public class Friend &#123;</span><br><span class="line">    String name;</span><br><span class="line">    String stage;</span><br><span class="line">    String location;</span><br><span class="line"></span><br><span class="line">    public String getName() &#123;</span><br><span class="line">        return name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setName(String name) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getStage() &#123;</span><br><span class="line">        return stage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setStage(String stage) &#123;</span><br><span class="line">        this.stage = stage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getLocation() &#123;</span><br><span class="line">        return location;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setLocation(String location) &#123;</span><br><span class="line">        this.location = location;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;Friend&#123;&quot; + &quot;name=&apos;&quot; + name + &apos;\&apos;&apos; + &quot;, stage=&apos;&quot; + stage + &apos;\&apos;&apos; + &quot;, location=&apos;&quot; + location + &apos;\&apos;&apos; + &apos;&#125;&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意：该类Friend应该是一个POJO, 写好setter/getter方法。</p>
<p>其中 序列化和反序列化的工作由 HttpMessageConverter 来完成。默认的HttpMessageConverter使用的是jackson的序列化方法，如果需要修改成别的，参考另一篇博文<br><a href="http://youletter.cn/2017/12/06/spring-boot%E4%B8%AD%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E7%9A%84HttpMessageConverter%E4%B8%BAGsonHttpMessageConverter/" target="_blank" rel="noopener">spring-boot中修改默认的HttpMessageConverter为GsonHttpMessageConverter</a></p>
<p>参考：<br><a href="https://docs.spring.io/spring/docs/4.3.14.RELEASE/spring-framework-reference/htmlsingle/#mvc-ann-requestbody" target="_blank" rel="noopener">Mapping the request body with the @RequestBody annotation</a></p>
<h1 id="PathVariable"><a href="#PathVariable" class="headerlink" title="@PathVariable"></a>@PathVariable</h1><p>如果需要将path中的值，赋给变量。</p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@GetMapping(&quot;/friend/&#123;friendId&#125;&quot;)</span><br><span class="line">public String findOwner(@PathVariable String friendId) &#123;</span><br><span class="line">    System.out.println(friendId);</span><br><span class="line">    return &quot;displayOwner&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>{friendId} 这个位置的 值就会 赋给 friendId这个变量。</p>
<p>注意： 如果URI template中的变量和参数的变量一致，可以忽略@PathVariable中的参数。 如果不一致，需要显示指出，如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@GetMapping(&quot;/friend/&#123;friendId&#125;&quot;)</span><br><span class="line">public String findOwner(@PathVariable(&quot;friendId&quot;) String notfriendId) &#123;</span><br><span class="line">    System.out.println(notfriendId);</span><br><span class="line">    return &quot;displayOwner&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参考 <a href="https://docs.spring.io/spring/docs/4.3.14.RELEASE/spring-framework-reference/htmlsingle/#mvc-ann-requestmapping-uri-templates" target="_blank" rel="noopener">URI Template Patterns</a></p>
<h1 id="RequestParam"><a href="#RequestParam" class="headerlink" title="@RequestParam"></a>@RequestParam</h1><p>绑定参数， 默认是必选的。如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@GetMapping(&quot;/friend/me&quot;)</span><br><span class="line">public String findOwner(@RequestParam(&quot;location&quot;) String location,</span><br><span class="line">                        @RequestParam(&quot;stage&quot;) String stage) &#123;</span><br><span class="line">    System.out.println(location);</span><br><span class="line">    System.out.println(stage);</span><br><span class="line">    return &quot;displayOwner&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果某个参数不是必选，需设置required属性。<br><code>@RequestParam(name=&quot;id&quot;, required=false)</code></p>
<p>参考 <a href="https://docs.spring.io/spring/docs/4.3.14.RELEASE/spring-framework-reference/htmlsingle/#mvc-ann-requestparam" target="_blank" rel="noopener">Binding request parameters to method parameters with @RequestParam</a></p>
<h1 id="RequestHeader"><a href="#RequestHeader" class="headerlink" title="@RequestHeader"></a>@RequestHeader</h1><p>映射header属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@GetMapping(&quot;/friend/me2&quot;)</span><br><span class="line">public void displayHeaderInfo(@RequestHeader(&quot;Authorization&quot;) String authorization,</span><br><span class="line">                              @RequestHeader(&quot;Keep-Alive&quot;) long keepAlive) &#123;</span><br><span class="line"></span><br><span class="line">    System.out.println(authorization);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参考 <a href="https://docs.spring.io/spring/docs/4.3.14.RELEASE/spring-framework-reference/htmlsingle/#mvc-ann-requestheader" target="_blank" rel="noopener">Mapping request header attributes with the @RequestHeader annotation</a></p>
<h1 id="测试使用的工程上传至github"><a href="#测试使用的工程上传至github" class="headerlink" title="测试使用的工程上传至github"></a>测试使用的工程上传至github</h1><p><a href="https://github.com/kunpengku/spring-boot-request-kind" target="_blank" rel="noopener">spring-boot-request-kind</a></p>
</div></article></div><div id="disqus_thread"></div></div><div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;"><img src="/images/WechatIMG5.jpeg" width="180px"></div><div id="ads"></div><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 底部01--><ins style="display:block" data-ad-client="ca-pub-7674654031652018" data-ad-slot="3127803056" data-ad-format="auto" class="adsbygoogle"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});

</script><div id="SOHUCS"></div><script charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/changyan.js"></script><script type="text/javascript">window.changyan.api.config({
appid: 'cytkri3BC',
conf: 'prod_1e787a373da7a5fa9ef7156a6dae5e6b'
});
</script></main><footer class="footer-container"><div class="paginator"><a href="/2018/02/06/spring-boot-入参检验/" class="prev">PREV</a><a href="/2018/01/22/elasticesarch-旧版本下载地址/" class="next">NEXT</a></div><div class="copyright"><p>© 2017 - 2018 <a href="mailto:fupeng_2005@126.com">kunpengku</a>, <a href="http://www.miitbeian.gov.cn">京ICP备17058936号-1</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/AngryPowman/hexo-theme-prontera" target="_blank">hexo-theme-prontera</a>.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"angrypowman",'auto');ga('send','pageview');</script></body></html>